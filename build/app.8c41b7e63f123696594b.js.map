{"version":3,"sources":["webpack:///./app/components/TodoItem/style.css?4c11","webpack:///./app/components/Footer/style.css?30f7","webpack:///./app/components/TodoTextInput/style.css?71e8","webpack:///./app/components/TodoList/style.css?14c4","webpack:///./app/index.tsx","webpack:///./app/containers/App/style.css","webpack:///./app/models/TodoModel.ts","webpack:///./app/components/Footer/index.tsx","webpack:///./app/components/TodoTextInput/index.tsx","webpack:///./app/components/Header/index.tsx","webpack:///./app/components/TodoItem/index.tsx","webpack:///./app/components/TodoList/index.tsx","webpack:///./app/containers/App/index.tsx","webpack:///./app/reducers/todos.ts","webpack:///./app/reducers/index.ts","webpack:///./app/middleware/logger.ts","webpack:///./app/store/index.ts","webpack:///./main.tsx","webpack:///./app/actions/todos.ts"],"names":["module","exports","App","path","component","TodoModel","Filter","FILTER_TITLES","SHOW_ALL","SHOW_ACTIVE","SHOW_COMPLETED","Footer","filter","activeCount","completedCount","onClickFilter","onClickClearCompleted","renderTodoCount","useCallback","itemWord","className","count","renderFilterLink","selectedFilter","selected","style","cursor","onClick","children","renderClearButton","clearCompleted","normal","filters","Object","keys","map","key","TodoTextInput","placeholder","newTodo","onSave","inputText","setInputText","handleSubmit","event","text","currentTarget","value","trim","which","handleChange","target","handleBlur","classes","edit","new","type","autoFocus","onChange","onBlur","onKeyDown","Header","addTodo","handleSave","length","TodoItem","todo","editTodo","deleteTodo","completeTodo","editing","setEditing","handleDoubleClick","id","completed","view","toggle","checked","onDoubleClick","destroy","TodoList","todos","actions","hasIncompleted","useMemo","some","main","toggleAll","completeAll","FILTER_VALUES","FILTER_FUNCTIONS","history","location","dispatch","todoActions","handleClearCompleted","handleFilterChange","push","filteredTodos","todoReducer","handleActions","Type","ADD_TODO","state","action","payload","reduce","max","Math","DELETE_TODO","EDIT_TODO","COMPLETE_TODO","COMPLETE_ALL","CLEAR_COMPLETED","rootReducer","logger","store","next","initialState","middleware","render","document","getElementById","TodoActions","useTodoActions"],"mappings":"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","file":"app.8c41b7e63f123696594b.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"normal\":\"_3Ivjf\",\"toggle\":\"gyYcA\",\"destroy\":\"_6oXTL\",\"edit\":\"Dlke2\",\"editing\":\"atkUq _3Ivjf\",\"view\":\"R2I1d\",\"completed\":\"_2d4Cr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"normal\":\"_11G5b\",\"filters\":\"_2Rdg5\",\"selected\":\"KA4tP\",\"count\":\"_2aiYj\",\"clearCompleted\":\"_2VhED\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"new\":\"_1LCq9\",\"edit\":\"_2TStV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"_1MAoA\",\"normal\":\"l9hMg\",\"editing\":\"_2LE8Z\",\"edit\":\"_3IEu8\",\"view\":\"cswuJ\",\"toggle\":\"_1euYG\",\"completed\":\"_1VEnC\",\"destroy\":\"_3_fjc\",\"toggleAll\":\"_1L1bM\"};","import React from 'react';\nimport { Route, Switch } from 'react-router';\nimport { App as TodoApp } from 'app/containers/App';\nimport { hot } from 'react-hot-loader';\n\nexport const App = hot(module)(() => (\n  <Switch>\n    <Route path=\"/\" component={TodoApp} />\n  </Switch>\n));\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"normal\":\"_1XP1U\"};","/** TodoMVC model definitions **/\n\nexport interface TodoModel {\n  id: number;\n  text: string;\n  completed: boolean;\n}\n\nexport namespace TodoModel {\n  export enum Filter {\n    SHOW_ALL = 'all',\n    SHOW_ACTIVE = 'active',\n    SHOW_COMPLETED = 'completed'\n  }\n}\n","import React from 'react';\nimport style from './style.css';\nimport classNames from 'classnames';\nimport { TodoModel } from 'app/models';\n\nexport const FILTER_TITLES = {\n  [TodoModel.Filter.SHOW_ALL]: 'All',\n  [TodoModel.Filter.SHOW_ACTIVE]: 'Active',\n  [TodoModel.Filter.SHOW_COMPLETED]: 'Completed'\n};\n\nexport namespace Footer {\n  export interface Props {\n    filter: TodoModel.Filter;\n    activeCount?: number;\n    completedCount?: number;\n    onClickFilter: (filter: TodoModel.Filter) => any;\n    onClickClearCompleted: () => any;\n  }\n}\n\nexport const Footer = ({\n  filter,\n  activeCount,\n  completedCount,\n  onClickFilter,\n  onClickClearCompleted\n}: Footer.Props): JSX.Element => {\n  const renderTodoCount = React.useCallback((): JSX.Element => {\n    const itemWord = activeCount === 1 ? ' item' : 'items';\n    return (\n      <span className={style.count}>\n        <strong>{activeCount || 'No'}</strong> {itemWord} left\n      </span>\n    );\n  }, [activeCount]);\n\n  const renderFilterLink = React.useCallback(\n    (selectedFilter: TodoModel.Filter): JSX.Element => {\n      return (\n        <a\n          className={classNames({ [style.selected]: filter === selectedFilter })}\n          style={{ cursor: 'pointer' }}\n          onClick={() => onClickFilter(selectedFilter)}\n          children={FILTER_TITLES[selectedFilter]}\n        />\n      );\n    },\n    [filter, onClickFilter]\n  );\n\n  const renderClearButton = React.useCallback((): JSX.Element | void => {\n    if (completedCount! > 0) {\n      return <button className={style.clearCompleted} onClick={onClickClearCompleted} children={'Clear completed'} />;\n    }\n  }, [completedCount]);\n\n  return (\n    <footer className={style.normal}>\n      {renderTodoCount()}\n      <ul className={style.filters}>\n        {(Object.keys(TodoModel.Filter) as (keyof typeof TodoModel.Filter)[]).map((key) => (\n          <li key={key} children={renderFilterLink(TodoModel.Filter[key])} />\n        ))}\n      </ul>\n      {renderClearButton()}\n    </footer>\n  );\n};\n","import React, { useState } from 'react';\nimport classNames from 'classnames';\nimport style from './style.css';\n\nexport namespace TodoTextInput {\n  export interface Props {\n    placeholder?: string;\n    newTodo?: boolean;\n    onSave: (text: string) => void;\n  }\n\n  export interface State {\n    text: string;\n  }\n}\n\nexport const TodoTextInput = ({ placeholder, newTodo, onSave }: TodoTextInput.Props): JSX.Element => {\n  const [inputText, setInputText] = useState('');\n\n  const handleSubmit = React.useCallback(\n    (event: React.KeyboardEvent<HTMLInputElement>) => {\n      const text = event.currentTarget.value.trim();\n      if (event.which === 13) {\n        onSave(text);\n        setInputText('');\n      }\n    },\n    [onSave, setInputText]\n  );\n\n  const handleChange = React.useCallback(\n    (event: React.ChangeEvent<HTMLInputElement>) => {\n      setInputText(event.target.value);\n    },\n    [setInputText]\n  );\n\n  const handleBlur = React.useCallback(\n    (event: React.ChangeEvent<HTMLInputElement>) => {\n      const text = event.currentTarget.value.trim();\n      if (!newTodo) {\n        onSave(text);\n      }\n    },\n    [onSave]\n  );\n\n  const classes = classNames(\n    {\n      [style.edit]: !newTodo,\n      [style.new]: newTodo\n    },\n    style.normal\n  );\n\n  return (\n    <input\n      className={classes}\n      type=\"text\"\n      autoFocus\n      placeholder={placeholder}\n      value={inputText}\n      onChange={handleChange}\n      onBlur={handleBlur}\n      onKeyDown={handleSubmit}\n    />\n  );\n};\n","import React from 'react';\nimport { TodoTextInput } from '../TodoTextInput';\nimport { TodoActions } from 'app/actions/todos';\n\nexport namespace Header {\n  export interface Props {\n    addTodo: typeof TodoActions.addTodo;\n  }\n}\n\nexport const Header = ({ addTodo }: Header.Props): JSX.Element => {\n  const handleSave = React.useCallback(\n    (text: string) => {\n      if (text.length) addTodo({ text });\n    },\n    [addTodo]\n  );\n\n  return (\n    <header>\n      <h1>Todos</h1>\n      <TodoTextInput newTodo onSave={handleSave} placeholder=\"What needs to be done?\" />\n    </header>\n  );\n};\n","import React, { useState } from 'react';\nimport classNames from 'classnames';\nimport style from './style.css';\nimport { TodoModel } from 'app/models';\nimport { TodoActions } from 'app/actions';\nimport { TodoTextInput } from '../TodoTextInput';\n\nexport namespace TodoItem {\n  export interface Props {\n    todo: TodoModel;\n    editTodo: typeof TodoActions.editTodo;\n    deleteTodo: typeof TodoActions.deleteTodo;\n    completeTodo: typeof TodoActions.completeTodo;\n  }\n}\n\nexport const TodoItem = ({ todo, editTodo, deleteTodo, completeTodo }: TodoItem.Props) => {\n  const [editing, setEditing] = useState(false);\n\n  const handleDoubleClick = React.useCallback(() => {\n    setEditing(true);\n  }, [setEditing]);\n\n  const handleSave = React.useCallback(\n    (id: number, text: string) => {\n      if (text.length === 0) {\n        deleteTodo(id);\n      } else {\n        editTodo({ id, text });\n      }\n      setEditing(false);\n    },\n    [editTodo, deleteTodo, setEditing]\n  );\n\n  const classes = classNames({\n    [style.completed]: todo.completed,\n    [style.editing]: editing,\n    [style.normal]: !editing\n  });\n\n  return (\n    <li className={classes}>\n      {editing ? (\n        <TodoTextInput onSave={(text) => todo.id && handleSave(todo.id, text)} />\n      ) : (\n        <div className={style.view}>\n          <input\n            type=\"checkbox\"\n            className={style.toggle}\n            checked={todo.completed}\n            onChange={() => todo.id && completeTodo(todo.id)}\n          />\n          <label onDoubleClick={() => handleDoubleClick()}>{todo.text}</label>\n          <button\n            className={style.destroy}\n            onClick={() => {\n              if (todo.id) deleteTodo(todo.id);\n            }}\n          />\n        </div>\n      )}\n    </li>\n  );\n};\n","import React from 'react';\nimport style from './style.css';\nimport { TodoActions } from 'app/actions/todos';\nimport { TodoItem } from '../TodoItem';\nimport { TodoModel } from 'app/models/TodoModel';\n\nexport namespace TodoList {\n  export interface Props {\n    todos: TodoModel[];\n    actions: TodoActions;\n  }\n}\n\nexport const TodoList = ({ todos, actions }: TodoList.Props): JSX.Element => {\n  const hasIncompleted = React.useMemo(() => todos.some((todo) => !todo.completed), []);\n  return (\n    <section className={style.main}>\n      {hasIncompleted && (\n        <input className={style.toggleAll} type=\"checkbox\" checked={hasIncompleted} onChange={actions.completeAll} />\n      )}\n      <ul className={style.normal}>\n        {todos.map((todo) => (\n          <TodoItem\n            key={todo.id}\n            todo={todo}\n            completeTodo={actions.completeTodo}\n            deleteTodo={actions.deleteTodo}\n            editTodo={actions.editTodo}\n          />\n        ))}\n      </ul>\n    </section>\n  );\n};\n","import React from 'react';\nimport style from './style.css';\nimport { RouteComponentProps } from 'react-router';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useTodoActions } from 'app/actions';\nimport { RootState } from 'app/reducers';\nimport { TodoModel } from 'app/models';\nimport { Header, TodoList, Footer } from 'app/components';\n\nconst FILTER_VALUES = (Object.keys(TodoModel.Filter) as (keyof typeof TodoModel.Filter)[]).map(\n  (key) => TodoModel.Filter[key]\n);\n\nconst FILTER_FUNCTIONS: Record<TodoModel.Filter, (todo: TodoModel) => boolean> = {\n  [TodoModel.Filter.SHOW_ALL]: () => true,\n  [TodoModel.Filter.SHOW_ACTIVE]: (todo) => !todo.completed,\n  [TodoModel.Filter.SHOW_COMPLETED]: (todo) => todo.completed\n};\n\nexport namespace App {\n  export interface Props extends RouteComponentProps<void> {}\n}\n\nexport const App = ({ history, location }: App.Props) => {\n  const dispatch = useDispatch();\n  const todoActions = useTodoActions(dispatch);\n  const { todos, filter } = useSelector((state: RootState) => {\n    const hash = location?.hash?.replace('#', '');\n    return {\n      todos: state.todos,\n      filter: FILTER_VALUES.find((value) => value === hash) ?? TodoModel.Filter.SHOW_ALL\n    };\n  });\n\n  const handleClearCompleted = React.useCallback((): void => {\n    todoActions.clearCompleted();\n  }, [todoActions]);\n\n  const handleFilterChange = React.useCallback(\n    (filter: TodoModel.Filter): void => {\n      history.push(`#${filter}`);\n    },\n    [history]\n  );\n\n  const filteredTodos = React.useMemo(() => (filter ? todos.filter(FILTER_FUNCTIONS[filter]) : todos), [todos, filter]);\n  const activeCount = React.useMemo(() => todos.filter((todo) => !todo.completed).length, [todos]);\n  const completedCount = React.useMemo(() => todos.filter((todo) => todo.completed).length, [todos]);\n\n  return (\n    <div className={style.normal}>\n      <Header addTodo={todoActions.addTodo} />\n      <TodoList todos={filteredTodos} actions={todoActions} />\n      <Footer\n        filter={filter}\n        activeCount={activeCount}\n        completedCount={completedCount}\n        onClickClearCompleted={handleClearCompleted}\n        onClickFilter={handleFilterChange}\n      />\n    </div>\n  );\n};\n","import { handleActions } from 'redux-actions';\nimport { RootState } from './state';\nimport { TodoActions } from 'app/actions/todos';\nimport { TodoModel } from 'app/models';\n\nconst initialState: RootState.TodoState = [\n  {\n    id: 1,\n    text: 'Use Redux',\n    completed: false\n  }\n];\n\nexport const todoReducer = handleActions<RootState.TodoState, TodoModel>(\n  {\n    [TodoActions.Type.ADD_TODO]: (state, action) => {\n      if (action.payload && action.payload.text) {\n        return [\n          {\n            id: state.reduce((max, todo) => Math.max(todo.id || 1, max), 0) + 1,\n            completed: false,\n            text: action.payload.text\n          },\n          ...state\n        ];\n      }\n      return state;\n    },\n    [TodoActions.Type.DELETE_TODO]: (state, action) => {\n      return state.filter((todo) => todo.id !== (action.payload as any));\n    },\n    [TodoActions.Type.EDIT_TODO]: (state, action) => {\n      return state.map((todo) => {\n        if (!todo || !action || !action.payload) {\n          return todo;\n        }\n        return (todo.id || 0) === action.payload.id ? { ...todo, text: action.payload.text } : todo;\n      });\n    },\n    [TodoActions.Type.COMPLETE_TODO]: (state, action) => {\n      return state.map((todo) =>\n        todo.id === (action.payload as any) ? { ...todo, completed: !todo.completed } : todo\n      );\n    },\n    [TodoActions.Type.COMPLETE_ALL]: (state, action) => {\n      return state.map((todo) => ({ ...todo, completed: true }));\n    },\n    [TodoActions.Type.CLEAR_COMPLETED]: (state, action) => {\n      return state.filter((todo) => todo.completed === false);\n    }\n  },\n  initialState\n);\n","import { combineReducers } from 'redux';\nimport { RootState } from './state';\nimport { todoReducer } from './todos';\n\nexport { RootState };\n\nexport const rootReducer = combineReducers<RootState>({\n  todos: todoReducer\n});\n","import { Middleware } from 'redux';\n\nexport const logger: Middleware = (store) => (next) => (action) => {\n  if (process.env.NODE_ENV !== 'production') {\n    console.log(action);\n  }\n  return next(action);\n};\n","import { Store, createStore, applyMiddleware } from 'redux';\nimport { composeWithDevTools } from 'redux-devtools-extension';\nimport { RootState, rootReducer } from 'app/reducers';\nimport { logger, thunk } from 'app/middleware';\n\nexport function configureStore(initialState?: RootState): Store<RootState> {\n  let middleware = applyMiddleware(thunk, logger);\n\n  if (process.env.NODE_ENV !== 'production') {\n    middleware = composeWithDevTools(middleware);\n  }\n\n  const store = createStore(rootReducer as any, initialState as any, middleware) as Store<RootState>;\n\n  if (module.hot) {\n    module.hot.accept('app/reducers', () => {\n      const nextReducer = require('app/reducers');\n      store.replaceReducer(nextReducer);\n    });\n  }\n\n  return store;\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { createBrowserHistory } from 'history';\nimport { configureStore } from 'app/store';\nimport { Router } from 'react-router';\nimport { App } from './app';\n\n// prepare store\nconst history = createBrowserHistory();\nconst store = configureStore();\n\nReactDOM.render(\n  <Provider store={store}>\n    <Router history={history}>\n      <App />\n    </Router>\n  </Provider>,\n  document.getElementById('root')\n);\n","import { useMemo } from 'react';\nimport { Dispatch, bindActionCreators } from 'redux';\nimport { createAction } from 'redux-actions';\nimport { TodoModel } from 'app/models';\n\nexport namespace TodoActions {\n  export enum Type {\n    ADD_TODO = 'ADD_TODO',\n    EDIT_TODO = 'EDIT_TODO',\n    DELETE_TODO = 'DELETE_TODO',\n    COMPLETE_TODO = 'COMPLETE_TODO',\n    COMPLETE_ALL = 'COMPLETE_ALL',\n    CLEAR_COMPLETED = 'CLEAR_COMPLETED'\n  }\n\n  export const addTodo = createAction<PartialPick<TodoModel, 'text'>>(Type.ADD_TODO);\n  export const editTodo = createAction<PartialPick<TodoModel, 'id'>>(Type.EDIT_TODO);\n  export const deleteTodo = createAction<TodoModel['id']>(Type.DELETE_TODO);\n  export const completeTodo = createAction<TodoModel['id']>(Type.COMPLETE_TODO);\n  export const completeAll = createAction(Type.COMPLETE_ALL);\n  export const clearCompleted = createAction(Type.CLEAR_COMPLETED);\n}\n\nexport type TodoActions = Omit<typeof TodoActions, 'Type'>;\nexport const useTodoActions = (dispatch: Dispatch) => {\n  const { Type, ...actions } = TodoActions;\n  return useMemo(() => bindActionCreators(actions as any, dispatch), [dispatch]) as TodoActions;\n};\n"],"sourceRoot":""}